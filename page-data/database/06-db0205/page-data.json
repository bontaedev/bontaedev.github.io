{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/database/06-db0205/",
    "result": {"data":{"cur":{"id":"fc6ddbde-5c52-56e4-a265-4b0289fc7a57","html":"<h2 id=\"조건식decode\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EC%8B%9Ddecode\" aria-label=\"조건식decode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조건식(DECODE)</h2>\n<ul>\n<li>decode(대상표현식, 조건1,결과1, 조건2, 결과2, default)</li>\n<li>default 값을 명시해주지 않으면 default = null</li>\n<li>대상표현식/값이 조건1과 같다면 결과1을 반환, 정해준 조건이 안되면 default로 빠짐)</li>\n</ul>\n<h2 id=\"조건식-case\" style=\"position:relative;\"><a href=\"#%EC%A1%B0%EA%B1%B4%EC%8B%9D-case\" aria-label=\"조건식 case permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>조건식 (CASE)</h2>\n<ul>\n<li>case를 이용해 결과값을 적어줄 때 모든 조건에 대해 동일한 자료형</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CASE</span>\n\t<span class=\"token keyword\">WHEN</span> 조건<span class=\"token number\">1</span> <span class=\"token keyword\">THEN</span> 결과<span class=\"token number\">1</span>\n\t<span class=\"token keyword\">WHEN</span> 조건<span class=\"token number\">2</span> <span class=\"token keyword\">THEN</span> 결과<span class=\"token number\">2</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\t<span class=\"token keyword\">ELSE</span> 디폴트값<span class=\"token punctuation\">(</span><span class=\"token boolean\">null</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">END</span>\n\n<span class=\"token keyword\">SELECT</span>\n\t<span class=\"token keyword\">CASE</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token string\">'가나다'</span> <span class=\"token operator\">=</span> <span class=\"token string\">'하하하'</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">10</span>\n\t\t<span class=\"token keyword\">WHEN</span> <span class=\"token number\">10</span> <span class=\"token operator\">></span> <span class=\"token number\">5</span> <span class=\"token keyword\">THEN</span> <span class=\"token number\">5</span>\n\t\t<span class=\"token keyword\">ELSE</span> <span class=\"token number\">0</span>\n\t<span class=\"token keyword\">END</span>\n<span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"예제-문제\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C-%EB%AC%B8%EC%A0%9C\" aria-label=\"예제 문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제 문제</h2>\n<ul>\n<li>사번, 직원명과 퇴사여부를 출력. 퇴사여부를 보여주는 ENT_YN이 ‘Y’와 같다면 퇴사일을 출력</li>\n<li>만약 퇴사하지 않았다면 재직중을 출력. 정렬순서는 퇴사여부, 사번 컬럼 오름차순.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> emp_id<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span>\n\t<span class=\"token keyword\">CASE</span>\n\t\t<span class=\"token keyword\">WHEN</span> ENT_YN <span class=\"token operator\">=</span> <span class=\"token string\">'N'</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'재직중'</span>\n\t\t<span class=\"token keyword\">ELSE</span> to_char<span class=\"token punctuation\">(</span>ent_date<span class=\"token punctuation\">,</span> <span class=\"token string\">'YY\"년\" MM\"월\" DD\"일 퇴사\"'</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token keyword\">AS</span> <span class=\"token string\">\"재직여부\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>부서별 1분기 실적 조회해보기\n<ul>\n<li>D2,D6 부서는 상 D9 부서는 하 나머지는 중 / 인턴은 해당없음</li>\n<li>부서코드 없으면 인턴. 부서코드 중복 X. 정렬 순서는 부서코드 오름차순</li>\n<li>‘부서코드’ ‘1분기실적’ 이렇게 출력</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  <span class=\"token keyword\">DISTINCT</span> NVL<span class=\"token punctuation\">(</span>DEPT_CODE<span class=\"token punctuation\">,</span> <span class=\"token string\">'인턴'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서코드\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">CASE</span>\n\t\t<span class=\"token keyword\">WHEN</span> dept_code <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'D2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'D6'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'상'</span>\n\t\t<span class=\"token keyword\">WHEN</span> DEPT_CODE <span class=\"token operator\">=</span> <span class=\"token string\">'D9'</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'하'</span>\n\t\t<span class=\"token keyword\">WHEN</span> DEPT_CODE <span class=\"token operator\">IS</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">THEN</span> <span class=\"token string\">'해당없음'</span>\n\t\t<span class=\"token keyword\">ELSE</span> <span class=\"token string\">'중'</span>\n\t<span class=\"token keyword\">END</span> <span class=\"token string\">\"1분기실적\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EC%A1%B0%EA%B1%B4%EC%8B%9Ddecode\">조건식(DECODE)</a></li>\n<li><a href=\"#%EC%A1%B0%EA%B1%B4%EC%8B%9D-case\">조건식 (CASE)</a></li>\n<li><a href=\"#%EC%98%88%EC%A0%9C-%EB%AC%B8%EC%A0%9C\">예제 문제</a></li>\n</ul>\n</div>","excerpt":"조건식(DECODE) decode(대상표현식, 조건1,결과1, 조건2, 결과2, default) default 값을 명시해주지 않으면 default = null 대상표현식/값이 조건1과 같다면 결과1을 반환, 정해준 조건이 안되면 default로 빠짐) 조건식 (CASE) case를 이용해 결과값을 적어줄 때 모든 조건에 대해 동일한 자료형 예제 문제 사번, 직원명과 퇴사여부를 출력. 퇴사여부를 보여주는 ENT_YN이 ‘Y’와 같다면 퇴사일을 출력 만약 퇴사하지 않았다면 재직중을 출력. 정렬순서는 퇴사여부, 사번 컬럼 오름차순. 부서별 1분기 실적 조회해보기 D2,D6 부서는 상 D9 부서는 하 나머지는 중 / 인턴은 해당없음 부서코드 없으면 인턴. 부서코드 중복 X. 정렬 순서는 부서코드 오름차순 ‘부서코드’ ‘1분기실적’ 이렇게 출력 조건식(DECODE) 조건식 (CASE) 예제 문제","frontmatter":{"date":"March 30, 2022","title":"데이터베이스 2일차 정리 04 - 오라클 조건식","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/06-db0205/"}},"next":{"id":"7d531931-7f9d-5959-85ce-20a2ed3c4bfb","html":"<h2 id=\"db의-형변환이란\" style=\"position:relative;\"><a href=\"#db%EC%9D%98-%ED%98%95%EB%B3%80%ED%99%98%EC%9D%B4%EB%9E%80\" aria-label=\"db의 형변환이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DB의 형변환이란?</h2>\n<blockquote>\n<p>데이터 타입을 바꿔주는 작업</p>\n</blockquote>\n<h3 id=\"to_chardatenumber-format\" style=\"position:relative;\"><a href=\"#to_chardatenumber-format\" aria-label=\"to_chardatenumber format permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>to_char(date/number, format)</h3>\n<ul>\n<li>\n<p>날짜 혹은 숫자를 특정한 형식의 문자형으로 반환해주는 함수</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> SYSDATE <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span><span class=\"token string\">'YYYY-MM-DD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> to_char<span class=\"token punctuation\">(</span>SYSDATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY/MM/DD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li>\n<p>예시 : 입사년월일 0000년00월00일 - 사원명, 입사년월일</p>\n</li>\n<li>\n<p>한글을 형식에 넣고 싶다면 더블 따옴표 안에 넣어줌</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> EMP_NAME<span class=\"token punctuation\">,</span>\nTO_CHAR<span class=\"token punctuation\">(</span>HIRE_DATE<span class=\"token punctuation\">,</span><span class=\"token string\">'YYYY\"년\"MM\"월\"DD\"일\"'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- DAY/DY : 요일</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'YY/MM/DD/DAY'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span> <span class=\"token string\">'YY/MM/DD/DY'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- Month : x월</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>SYSDATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YY/MONTH/DD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- HH MI SS 시분초, PM/AM(오후/오전)</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>SYSDATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'PMHH:MI:SS'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- HH24 : 24일을 기준으로 표기</span>\n<span class=\"token keyword\">select</span> to_char <span class=\"token punctuation\">(</span>sysdate<span class=\"token punctuation\">,</span><span class=\"token string\">'HH24:MI:SS'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>예시 : employee 테이블 사원명, 입사일 -> 1990/02/05 (화) 형태로 조회</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> EMP_NAME<span class=\"token punctuation\">,</span> TO_CHAR<span class=\"token punctuation\">(</span>HIRE_DATE<span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYY/MM/DD (DY)'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<p><br><br></p>\n<h3 id=\"to_char대상-숫자포맷\" style=\"position:relative;\"><a href=\"#to_char%EB%8C%80%EC%83%81-%EC%88%AB%EC%9E%90%ED%8F%AC%EB%A7%B7\" aria-label=\"to_char대상 숫자포맷 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>to_char(대상 숫자,포맷)</h3>\n<p>포맷</p>\n<ul>\n<li>000 : 지정해준 형식보다 짧은 숫자가 들어오면 형식에 맞춰 결과를 반환</li>\n<li>999 : 지정해준 형식보다 짧은 숫자가 들어오면 길이에 맞춰서 반환</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token number\">123456789</span><span class=\"token punctuation\">,</span><span class=\"token string\">'999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token number\">123456789</span><span class=\"token punctuation\">,</span><span class=\"token string\">'000,000,000'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token number\">12345</span><span class=\"token punctuation\">,</span><span class=\"token string\">'999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token number\">12345</span><span class=\"token punctuation\">,</span><span class=\"token string\">'000,000,000'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n<p><br><br></p>\n<h3 id=\"to_char숫자l---통화표시\" style=\"position:relative;\"><a href=\"#to_char%EC%88%AB%EC%9E%90l---%ED%86%B5%ED%99%94%ED%91%9C%EC%8B%9C\" aria-label=\"to_char숫자l   통화표시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>to_char(숫자,‘L…‘) - 통화표시</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> to_char<span class=\"token punctuation\">(</span><span class=\"token number\">12345</span><span class=\"token punctuation\">,</span><span class=\"token string\">'L999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>예시 : employee 직원명, 직급코드, 연봉 조회</li>\n<li>단 연봉은 579,656,555, 연봉 보너스가 적용된 금액으로 조회 ((월급*bonus)*12)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> EMP_NAME<span class=\"token punctuation\">,</span> JOB_CODE<span class=\"token punctuation\">,</span>\nTO_CHAR<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token operator\">+</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token operator\">*</span>NVL<span class=\"token punctuation\">(</span>BONUS<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">12</span><span class=\"token punctuation\">,</span><span class=\"token string\">'L999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"YEARSAL\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<p><br><br></p>\n<h3 id=\"to_date숫자문자-형식\" style=\"position:relative;\"><a href=\"#to_date%EC%88%AB%EC%9E%90%EB%AC%B8%EC%9E%90-%ED%98%95%EC%8B%9D\" aria-label=\"to_date숫자문자 형식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>to_date(숫자/문자, 형식)</h3>\n<ul>\n<li>숫자형 또는 문자형 데이터를 Date 타입으로 바꿔줌</li>\n<li>시간값을 변환할 때 앞에 년월일 정보를 주지 않으며 현재달의 1일로 날짜를 인식</li>\n<li>년도값을 변환할 때 2000/1900년대 대한 값을 명확히 제시하지 않으면 2000년대를 Default로 지정</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token number\">20120303</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token number\">20120301</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'YYMMDD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'20120203'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'110808'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'hh:mi:ss'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> TO_CHAR<span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'110808'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'hh:mi:ss'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> to_char<span class=\"token punctuation\">(</span>TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'890909'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'YY/MM/DD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">'YYYY/MM/DD'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> dual<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 2089년</span></code></pre></div>\n<ul>\n<li>예시 : employee 2000년도 이후에 입사한 사원명 사번 입사일 조회</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> EMP_NAME<span class=\"token punctuation\">,</span> EMP_NO<span class=\"token punctuation\">,</span> HIRE_DATE\n<span class=\"token keyword\">FROM</span> EMPLOYEE\n<span class=\"token keyword\">WHERE</span> HIRE_DATE <span class=\"token operator\">>=</span> TO_DATE<span class=\"token punctuation\">(</span><span class=\"token string\">'20000101'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'YYYYMMDD'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><br><br></p>\n<h3 id=\"to_number문자형-형식\" style=\"position:relative;\"><a href=\"#to_number%EB%AC%B8%EC%9E%90%ED%98%95-%ED%98%95%EC%8B%9D\" aria-label=\"to_number문자형 형식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>to_number(문자형, 형식)</h3>\n<ul>\n<li>문자형을 숫자형으로 변환해주는 함수</li>\n<li>넘겨주는 문자형식에 맞춰 숫자형식도 동일하게, 숫자로 변환 불가한 문자열을 넘겨줄수 없다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> to_number<span class=\"token punctuation\">(</span><span class=\"token string\">'123,456,789'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 이것만 작동</span>\n<span class=\"token keyword\">SELECT</span> TO_NUMBER<span class=\"token punctuation\">(</span><span class=\"token string\">'123,456,789'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> to_number<span class=\"token punctuation\">(</span><span class=\"token string\">'s123,456,789'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span></code></pre></div>\n<p><br><br></p>\n<h2 id=\"묵시적-형변환\" style=\"position:relative;\"><a href=\"#%EB%AC%B5%EC%8B%9C%EC%A0%81-%ED%98%95%EB%B3%80%ED%99%98\" aria-label=\"묵시적 형변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>묵시적 형변환?</h2>\n<blockquote>\n<p>오라클에서는 어느정도 자료형을 유추해서 자동으로 형변환한다.\n<br>\n하지만 묵시적 형변환에 의지 X, 정확한 연산을 위해서라도 형변환을 명시해주는 것이 권장된다.</p>\n</blockquote>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#db%EC%9D%98-%ED%98%95%EB%B3%80%ED%99%98%EC%9D%B4%EB%9E%80\">DB의 형변환이란?</a></p>\n<ul>\n<li><a href=\"#to_chardatenumber-format\">to_char(date/number, format)</a></li>\n<li><a href=\"#to_char%EB%8C%80%EC%83%81-%EC%88%AB%EC%9E%90%ED%8F%AC%EB%A7%B7\">to_char(대상 숫자,포맷)</a></li>\n<li><a href=\"#to_char%EC%88%AB%EC%9E%90l---%ED%86%B5%ED%99%94%ED%91%9C%EC%8B%9C\">to_char(숫자,‘L…‘) - 통화표시</a></li>\n<li><a href=\"#to_date%EC%88%AB%EC%9E%90%EB%AC%B8%EC%9E%90-%ED%98%95%EC%8B%9D\">to_date(숫자/문자, 형식)</a></li>\n<li><a href=\"#to_number%EB%AC%B8%EC%9E%90%ED%98%95-%ED%98%95%EC%8B%9D\">to_number(문자형, 형식)</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EB%AC%B5%EC%8B%9C%EC%A0%81-%ED%98%95%EB%B3%80%ED%99%98\">묵시적 형변환?</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"March 30, 2022","title":"데이터베이스 2일차 정리 03 - DB형변환","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/05-db0203/"}},"prev":{"id":"4753c4a8-a902-5dac-849b-e17aa953483d","html":"<h2 id=\"그룹함수group-function\" style=\"position:relative;\"><a href=\"#%EA%B7%B8%EB%A3%B9%ED%95%A8%EC%88%98group-function\" aria-label=\"그룹함수group function permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>그룹함수(Group Function)</h2>\n<ul>\n<li>sum, avg, count, max/min</li>\n</ul>\n<ol>\n<li>SUM : 해당 컬럼/숫자 값의 총합을 구해주는 함수</li>\n<li>AVG : 해당 컬럼 값들의 평균을 구해주는 함수</li>\n<li>MAX/MIN : 해당 그룹에서 최대/최소값을 반환하는 함수</li>\n</ol>\n<h2 id=\"group-by\" style=\"position:relative;\"><a href=\"#group-by\" aria-label=\"group by permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GROUP BY</h2>\n<blockquote>\n<p>그룹함수를 이용해 여러개의 결과값을 도출하고 싶을때 (그룹별 집계)</p>\n</blockquote>\n<ul>\n<li>그룹함수는 단 한개의 결과값만을 도출. 그룹함수를 이용해 여러 개의 결과값을 도출하고 싶을 때?</li>\n<li>그룹함수가 적용된 그룹을 기준으로 해서 group by절에 해당 컬럼을 사용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span> <span class=\"token keyword\">from</span> employee <span class=\"token keyword\">group</span> <span class=\"token keyword\">by</span> dept_code<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"having\" style=\"position:relative;\"><a href=\"#having\" aria-label=\"having permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HAVING</h2>\n<ul>\n<li>where 절에서는 그룹함수를 사용할 수 없다.</li>\n<li>HAVING : group by를 이용해 그룹함수로 값을 구해올 때 그 값에 대해 조건을 걸고 싶을 때</li>\n<li>select … 그룹함수 FROM 테이블명 group by 컬럼… having 조건</li>\n<li>from where group by having order by</li>\n</ul>\n<h2 id=\"예제-문제-그룹함수\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C-%EB%AC%B8%EC%A0%9C-%EA%B7%B8%EB%A3%B9%ED%95%A8%EC%88%98\" aria-label=\"예제 문제 그룹함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제 문제. 그룹함수</h2>\n<ul>\n<li>부서코드가 D5인 사람들의 급여의 총합</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> EMPLOYEE\n<span class=\"token keyword\">WHERE</span>  DEPT_CODE <span class=\"token operator\">=</span> <span class=\"token string\">'D5'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>직원명, 직원들의 급여 총합 출력</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> EMP_NAME<span class=\"token punctuation\">,</span> <span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>송중기 사원과 선동일 사원의 평균 급여</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">ROUND</span><span class=\"token punctuation\">(</span><span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"두명의 평균급여\"</span>  <span class=\"token keyword\">FROM</span> EMPLOYEE\n<span class=\"token keyword\">WHERE</span> EMP_NAME <span class=\"token operator\">IN</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'송종기'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'선동일'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>전 직원의 보너스 평균을 출력. 소수점 둘째자리 수까지 반올림해서 조회 (둘짜자리수까지 표시)\n<blockquote>\n<p>그룹함수를 사용할 때 만약 NULL 값이 있다면 NULL 값은 제외대상이 된다.</p>\n</blockquote>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">ROUND</span><span class=\"token punctuation\">(</span><span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>nvl<span class=\"token punctuation\">(</span>BONUS<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>bonus를 지급해야 하는 사원의 수 카운트</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> EMPLOYEE\n<span class=\"token keyword\">WHERE</span> BONUS <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>부서코드가 D5인 사원의 수 카운트</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> EMPLOYEE\n<span class=\"token keyword\">WHERE</span> dept_code <span class=\"token operator\">=</span> <span class=\"token string\">'D5'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>사원들이 속해 있는 부서의 수 카운트 (중복제거)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">DISTINCT</span> DEPT_CODE<span class=\"token punctuation\">)</span> <span class=\"token keyword\">AS</span> DEPTCOUNT <span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>입사일이 가장 오래된 사람 적은 사람의 이름과 입사일. 입사일이 오래될수록 최소 최근이면 최대</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token function\">MAX</span><span class=\"token punctuation\">(</span>HIRE_DATE<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> <span class=\"token function\">min</span><span class=\"token punctuation\">(</span>HIRE_DATE<span class=\"token punctuation\">)</span> <span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"예제-문제풀이---group-by\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C-%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4---group-by\" aria-label=\"예제 문제풀이   group by permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제 문제풀이 - GROUP BY</h2>\n<ul>\n<li>부서별 인원 조회</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n  NVL<span class=\"token punctuation\">(</span>DEPT_CODE<span class=\"token punctuation\">,</span> <span class=\"token string\">'인턴'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서코드\"</span>\n  <span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">FROM</span> EMPLOYEE\n<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> DEPT_CODE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>부서별 인원 조회 : 부서코드가 Null인 경우에는 Count를 하지 않겟음</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> dept_code<span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE\n  <span class=\"token keyword\">WHERE</span> DEPT_CODE <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n  <span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> DEPT_CODE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>부서코드, 부서별인원, 부서별 월급 총합, 부서별 월급평균 조회</li>\n<li>정렬은 부서코드를 기준. 부서코드가 없다면 인턴으로</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\tNVL<span class=\"token punctuation\">(</span>DEPT_CODE<span class=\"token punctuation\">,</span> <span class=\"token string\">'인턴'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서코드\"</span>\n\t<span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서별인원\"</span>\n\t<span class=\"token punctuation\">,</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'L999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서별 월급 총합\"</span>\n\t<span class=\"token punctuation\">,</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token function\">ROUND</span><span class=\"token punctuation\">(</span><span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token string\">'L999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서별 월급 평균\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE\n\t<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> DEPT_CODE\n\t<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> DEPT_CODE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>부서코드, 부서별 보너스를 지급받는 사원의 수(보너스율이 있는 사원)을 조회</li>\n<li>부서코드 순으로 정렬</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\tNVL<span class=\"token punctuation\">(</span>dept_code<span class=\"token punctuation\">,</span> <span class=\"token string\">'인턴'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서코드\"</span>\n\t<span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'명'</span> <span class=\"token string\">\"보너스 받는 사원수\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE\n\t<span class=\"token keyword\">WHERE</span> BONUS <span class=\"token operator\">IS</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span>\n\t<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> DEPT_CODE\n\t<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> DEPT_CODE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>입사년도, 입사년도별 인원수, 입사년도별 급여평균 조회</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\tEXTRACT<span class=\"token punctuation\">(</span><span class=\"token keyword\">YEAR</span> <span class=\"token keyword\">FROM</span> hire_date<span class=\"token punctuation\">)</span> <span class=\"token string\">\"입사년도\"</span>\n\t<span class=\"token punctuation\">,</span> <span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"입사년도별 인원수\"</span>\n\t<span class=\"token punctuation\">,</span> <span class=\"token function\">avg</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span> <span class=\"token string\">\"입사년도별 급여평균\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE\n\t<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> EXTRACT<span class=\"token punctuation\">(</span><span class=\"token keyword\">YEAR</span> <span class=\"token keyword\">FROM</span> hire_date<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>group by : 함수를 적용한 컬럼도 가능</li>\n<li>성별, 성별별 급여의 평균(정수처리_소수점 버림), 성별 급여의 합계, 인원수</li>\n<li>인원수를 기준으로 내림차순</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\tDECODE<span class=\"token punctuation\">(</span>SUBSTR<span class=\"token punctuation\">(</span>emp_no<span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'남'</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'여'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"성별\"</span>\n\t<span class=\"token punctuation\">,</span> TO_CHAR<span class=\"token punctuation\">(</span>FLOOR<span class=\"token punctuation\">(</span><span class=\"token function\">AVG</span><span class=\"token punctuation\">(</span>SALARY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'L999,999,999'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"급여평균\"</span>\n\t<span class=\"token punctuation\">,</span> TO_CHAR<span class=\"token punctuation\">(</span><span class=\"token function\">SUM</span><span class=\"token punctuation\">(</span>salary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'L999,999,999'</span><span class=\"token punctuation\">)</span>  <span class=\"token string\">\"급여합계\"</span>\n\t<span class=\"token punctuation\">,</span> <span class=\"token function\">COUNT</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token string\">'명'</span> <span class=\"token string\">\"인원수\"</span>\n<span class=\"token keyword\">FROM</span> EMPLOYEE\n\t<span class=\"token keyword\">GROUP</span> <span class=\"token keyword\">BY</span> SUBSTR<span class=\"token punctuation\">(</span>emp_no<span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token number\">4</span> <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>해당 절에 여러 컬럼값을 넘기는 것도 가능 - 왼쪽부터 그룹화가 순차적으로 진행</li>\n<li>그룹안에 그룹 : 한 부서안에 다른 직급코드에 따라 그룹</li>\n<li>각 부서안에 직급별로 부서코드, 직급코드, 사원수, 평균급여</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#%EA%B7%B8%EB%A3%B9%ED%95%A8%EC%88%98group-function\">그룹함수(Group Function)</a></li>\n<li><a href=\"#group-by\">GROUP BY</a></li>\n<li><a href=\"#having\">HAVING</a></li>\n<li><a href=\"#%EC%98%88%EC%A0%9C-%EB%AC%B8%EC%A0%9C-%EA%B7%B8%EB%A3%B9%ED%95%A8%EC%88%98\">예제 문제. 그룹함수</a></li>\n<li><a href=\"#%EC%98%88%EC%A0%9C-%EB%AC%B8%EC%A0%9C%ED%92%80%EC%9D%B4---group-by\">예제 문제풀이 - GROUP BY</a></li>\n</ul>\n</div>","frontmatter":{"date":"March 31, 2022","title":"데이터베이스 3일차 정리 - 그룹함수","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/06-db0301/"}},"site":{"siteMetadata":{"siteUrl":"https://bontaedev.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/database/06-db0205/","nextSlug":"/database/05-db0203/","prevSlug":"/database/06-db0301/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}