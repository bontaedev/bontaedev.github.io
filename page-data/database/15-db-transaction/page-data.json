{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/database/15-db-transaction/",
    "result": {"data":{"cur":{"id":"78048755-17a2-5e30-921b-c1295096a3ec","html":"<h2 id=\"트랜잭션이란-transaction\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%B4%EB%9E%80-transaction\" aria-label=\"트랜잭션이란 transaction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>트랜잭션이란? Transaction</h2>\n<ul>\n<li>\n<p>한번에 수행되어야하는 작업 단위</p>\n</li>\n<li>\n<p>하나의 작업을 완료하기 위해서 각각의 흐름의 정상적으로 완료됐을때만 작업단위를 정상적으로 수행되었다고 판단하고 완료하는 과정</p>\n</li>\n<li>\n<p>트랜잭션 예시</p>\n</li>\n</ul>\n<p>ex) ATM</p>\n<ul>\n<li>\n<ol>\n<li>카드삽입</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>메뉴 선택(인출)</li>\n</ol>\n</li>\n<li>\n<ol start=\"3\">\n<li>금액확인 / 비밀번호 인증</li>\n</ol>\n</li>\n<li>\n<ol start=\"4\">\n<li>사용자가 입력한 금액이 뽑을 수 있는 금액인지 확인</li>\n</ol>\n</li>\n<li>\n<ol start=\"5\">\n<li>실제 현금 나옴</li>\n</ol>\n</li>\n<li>\n<ol start=\"6\">\n<li>카드 뽑고 끝</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"> <span class=\"token operator\">=</span><span class=\"token operator\">=</span> 현금을 인출한다 작업\n <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">6</span>번까지의 작업이 정상적으로 완료가 됐을 때 <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token keyword\">commit</span><span class=\"token punctuation\">(</span>완료 시점<span class=\"token punctuation\">)</span>\n <span class=\"token operator\">*</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token number\">6</span>번까지의 작업 중에 하나라도 비정상 흐름이 발생하면 그때는 모든 작업을 <span class=\"token keyword\">ROLLBACK</span><span class=\"token punctuation\">(</span>취소<span class=\"token punctuation\">)</span>\n <span class=\"token operator\">*</span>\n <span class=\"token operator\">*</span> <span class=\"token keyword\">commit</span> : 트랜잭션 작업이 정상적으로 완료되면 변경 내용을 영구적으로 저장 <span class=\"token punctuation\">(</span>모든 <span class=\"token keyword\">savepoint</span> 삭제<span class=\"token punctuation\">)</span>\n <span class=\"token operator\">*</span> <span class=\"token keyword\">savepoint</span> <span class=\"token operator\">&lt;</span><span class=\"token keyword\">savepoint</span>명<span class=\"token operator\">></span> : 현재 트랜잭션 작업 시점에다가 이름 부여 <span class=\"token punctuation\">(</span>하나의 트린잭션 안에서 구역을 나누는 것<span class=\"token punctuation\">)</span>\n <span class=\"token operator\">*</span>\n <span class=\"token operator\">*</span> <span class=\"token keyword\">rollback</span> : 트랜잭션 작업을 모두 취소하고 최근에 <span class=\"token keyword\">commit</span> 했던 지점을 돌아가는 것<span class=\"token punctuation\">.</span>\n <span class=\"token operator\">*</span> <span class=\"token keyword\">rollback</span> <span class=\"token keyword\">to</span> <span class=\"token keyword\">savepoint</span>명 : 해당 <span class=\"token keyword\">savepoint</span>로 되돌아간다<span class=\"token punctuation\">.</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> tbl_user <span class=\"token punctuation\">(</span>\n\t<span class=\"token keyword\">NO</span> NUMBER <span class=\"token keyword\">UNIQUE</span>\n\t<span class=\"token punctuation\">,</span> id varchar2<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span>\n\t<span class=\"token punctuation\">,</span> pw varchar2<span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">null</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> tbl_user <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'user1'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'pw1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> tbl_user <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'user2'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'pw2'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> tbl_user <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token string\">'user3'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'pw3'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> tbl_user<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> tbl_user <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token string\">'user4'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'pw4'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> tbl_user <span class=\"token keyword\">WHERE</span> <span class=\"token keyword\">NO</span><span class=\"token operator\">=</span><span class=\"token string\">'4'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ROLLBACK</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> tbl_user <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token string\">'user5'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'pw5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SAVEPOINT</span> sp1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> tbl_user <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token string\">'user6'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'pw6'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> tbl_user<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">rollback</span> <span class=\"token keyword\">TO</span> sp1<span class=\"token punctuation\">;</span></code></pre></div>","excerpt":"트랜잭션이란? Transaction 한번에 수행되어야하는 작업 단위 하나의 작업을 완료하기 위해서 각각의 흐름의 정상적으로 완료됐을때만 작업단위를 정상적으로 수행되었다고 판단하고 완료하는 과정 트랜잭션 예시 ex) ATM 카드삽입 메뉴 선택(인출) 금액확인 / 비밀번호 인증 사용자가 입력한 금액이 뽑을 수 있는 금액인지 확인 실제 현금 나옴 카드 뽑고 끝","frontmatter":{"date":"April 06, 2022","title":"데이터베이스 6일차 정리 - DB 트랜잭션","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/15-db-transaction/"}},"next":{"id":"5ec05f77-61f4-56d5-841d-2f7b29775630","html":"<h2 id=\"데이터-조작어-dmldata-manipulation-language\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A1%B0%EC%9E%91%EC%96%B4-dmldata-manipulation-language\" aria-label=\"데이터 조작어 dmldata manipulation language permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 조작어 DML(Data Manipulation Language)</h2>\n<ul>\n<li>Data를 삽입 수정 삭제 조회하는 언어 (CRUD)</li>\n</ul>\n<h1 id=\"1-insert\" style=\"position:relative;\"><a href=\"#1-insert\" aria-label=\"1 insert permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. INSERT</h1>\n<blockquote>\n<p>테이블에 새로은 행을 추가할 때 사용하는 구문</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 모든 행에 대한 데이터를 추가하고자 할때 사용하는 구문</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">into</span> 테이블명 <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span>입력할 데이터<span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">-- 특정한 컬럼의 값만 넣고 싶을 때 사용</span>\n<span class=\"token comment\">-- 컬럼과 데이터의 순서는 맞춰줘야 한다.</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> 테이블명 <span class=\"token punctuation\">(</span>컬럼명<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>컬럼명<span class=\"token number\">2.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span>입력데이터<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>데이터<span class=\"token number\">2.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'abc123'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ABC초콜릿'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc@naver.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span>pw<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'eee555'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eEE'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>서브쿼리를 이용한 INSERT 구문 사용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER\n\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> emp_id<span class=\"token punctuation\">,</span> job_code<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span> email\n\t<span class=\"token keyword\">FROM</span> employee <span class=\"token keyword\">WHERE</span> emp_id <span class=\"token operator\">=</span> <span class=\"token string\">'200'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>자동형변환(묵시적형변환) : 오라클이 자동으로 자료형을 추측하여 변환해주는 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> sysdate<span class=\"token punctuation\">,</span><span class=\"token string\">'ffd'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc@naver.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"2-update\" style=\"position:relative;\"><a href=\"#2-update\" aria-label=\"2 update permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. UPDATE</h1>\n<blockquote>\n<p>컬럼에 저장된 데이터를 수정하는 구문. 테이블 전체 행 개수에 변화를 주지 않음</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">update</span> 테이블명 <span class=\"token keyword\">SET</span> 변경할 컬럼명 <span class=\"token operator\">=</span> 변경할 값 <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">where</span> 조건\n\n<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> email <span class=\"token operator\">=</span> <span class=\"token string\">'eee@gmail.com'</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'eee555'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> pw <span class=\"token operator\">=</span> <span class=\"token string\">'1234'</span><span class=\"token punctuation\">,</span> nickname <span class=\"token operator\">=</span> <span class=\"token string\">'et'</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'eee555'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"3-delete\" style=\"position:relative;\"><a href=\"#3-delete\" aria-label=\"3 delete permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. DELETE</h1>\n<blockquote>\n<p>테이블의 행을 삭제하는 구문. 행의 개수에 변화가 생김\n조건문을 걸어주지 않으면 테이블의 모든 데이터가 삭제됨</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">delete</span> <span class=\"token keyword\">from</span> 테이블명 <span class=\"token keyword\">where</span> 조건<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> member<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> MEMBER <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'200'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> MEMBER<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ROLLBACK</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>TRUNCATE : 테이블의 전체 행을 삭제할 때 사용하는 구문. 되돌릴 수 없음, 영구적으로 삭제</li>\n</ul>\n<p><code class=\"language-text\">TRUNCATE TABLE MEMBER;</code></p>","frontmatter":{"date":"April 06, 2022","title":"데이터베이스 6일차 정리 - 데이터조작어(DML)","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/14-db-dml/"}},"prev":{"id":"a7d522b0-805f-553e-973f-cf90b6da4e0c","html":"<h2 id=\"뷰-view\" style=\"position:relative;\"><a href=\"#%EB%B7%B0-view\" aria-label=\"뷰 view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>뷰 View</h2>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">view</span> 뷰이름 <span class=\"token keyword\">as</span> <span class=\"token keyword\">select</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<ul>\n<li>하나 이상의 테이블에서 원하는 데이터를 선택해서 새로운 가상테이블을 만들어 주는 것</li>\n<li>뷰를 통해 만들어진 테이블이 물리적으로 존재하는 것은 아니고, 다른 테이블의 데이터만 조합해서 보여주는 것.</li>\n<li>특정 계정이 원본 데이블에 접근해서 모든 데이터(불필요한 데이터)에 접근하는 걸 방지할 수 있음</li>\n<li>뷰를 생성하는 권한 - 뷰의 내용을 수정하면 - 실제 원본 테이블의 데이터도 수정됨</li>\n<li>원본 테이블의 내용이 수정되면 뷰의 내용도 수정된다. - 데이터 실시간 공유 (업데이트)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">VIEW</span> <span class=\"token keyword\">TO</span> kh<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">VIEW</span> emp_view\n<span class=\"token keyword\">AS</span> <span class=\"token keyword\">SELECT</span> emp_no<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">,</span> phone\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> emp_view<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">UPDATE</span> EMPLOYEE <span class=\"token keyword\">SET</span> EMP_NAME <span class=\"token operator\">=</span><span class=\"token string\">'김동일'</span> <span class=\"token keyword\">WHERE</span> emp_name <span class=\"token operator\">=</span> <span class=\"token string\">'선동일'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">VIEW</span> emp_view<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"시퀀스sequence\" style=\"position:relative;\"><a href=\"#%EC%8B%9C%ED%80%80%EC%8A%A4sequence\" aria-label=\"시퀀스sequence permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>시퀀스(Sequence)</h2>\n<ul>\n<li>\n<p>순차적으로 정수값을 자동을 생성하는 객체 (자동 번호 발생기)</p>\n</li>\n<li>\n<p>옵션</p>\n<ol>\n<li>start with 숫자 : 몇번부터 번호를 시작할건지</li>\n<li>increment by 숫자 : 몇 단위로 숫자를 증가시킬건지</li>\n<li>maxvalue 숫자 / nomaxvalue : 시퀀스의 최대값 지정</li>\n<li>minvalue 숫자 / nominvalue : 시퀀스의 최소값 지정 / 지정x</li>\n<li>cycle / nocycle : 최대값에 도달하면 처음으로 돌아가 순번을 매길건지</li>\n<li>cache / nocache : 메모리상에 미리 시퀀스를 뽑아 올려두고 사용하는 것 / 메모리상에 올려놓지 X</li>\n</ol>\n</li>\n<li>\n<p>nextval : 현재값을 반환하고 시퀀스를 증가시킨다.</p>\n</li>\n<li>\n<p>currval : 현재값을 반환</p>\n</li>\n<li>\n<p>접속후 nextval이 단 한번도 쓰이지 않았다면 사용할수 없음</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> SEQUENCE seq_temp\n\t<span class=\"token keyword\">START</span> <span class=\"token keyword\">WITH</span> <span class=\"token number\">1</span>\n\tINCREMENT <span class=\"token keyword\">BY</span> <span class=\"token number\">1</span>\n\tNOMAXVALUE\n\tNOCYCLE\n\tnocache<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DROP</span> sequence  seq_temp<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> USER_SEQUENCES <span class=\"token keyword\">WHERE</span> sequence_name <span class=\"token operator\">=</span> <span class=\"token string\">'SEQ_TEMP'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> seq_temp<span class=\"token punctuation\">.</span>nextval <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> seq_temp<span class=\"token punctuation\">.</span>currval <span class=\"token keyword\">FROM</span> dual<span class=\"token punctuation\">;</span>\n</code></pre></div>","frontmatter":{"date":"April 07, 2022","title":"데이터베이스 6일차 정리 - 뷰(View), 시퀀스(Sequence)","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/16-db-viewsequence/"}},"site":{"siteMetadata":{"siteUrl":"https://bontaedev.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/database/15-db-transaction/","nextSlug":"/database/14-db-dml/","prevSlug":"/database/16-db-viewsequence/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}