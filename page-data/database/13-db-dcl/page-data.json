{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/database/13-db-dcl/",
    "result": {"data":{"cur":{"id":"0db1a697-4fc1-567e-932f-a662998062f8","html":"<h2 id=\"grant--revoke\" style=\"position:relative;\"><a href=\"#grant--revoke\" aria-label=\"grant  revoke permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GRANT / REVOKE</h2>\n<ul>\n<li>사용자 또는 role(resource, connect, dba)에 대한 권한 부여</li>\n<li>system / 관리자 계정 접속 - 신규 사용자 생성 - grant 접속 권한 부여 - 리소스 권한 부여</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">USER</span> test01 IDENTIFIED <span class=\"token keyword\">BY</span> test01<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">CONNECT</span><span class=\"token punctuation\">,</span> resource <span class=\"token keyword\">TO</span> test01<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">REVOKE</span> <span class=\"token keyword\">SELECT</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">ON</span> kh<span class=\"token punctuation\">.</span>coffee <span class=\"token keyword\">FROM</span> test01<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- system 계정에서 TEST01 계정한테 KH 계정이 가지고 있는 COFFEE테이블에 접근 권한 부여</span>\n<span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">SELECT</span> <span class=\"token keyword\">ON</span> kh<span class=\"token punctuation\">.</span>coffee <span class=\"token keyword\">TO</span> test01<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">GRANT</span> <span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">ON</span> kh<span class=\"token punctuation\">.</span>coffee <span class=\"token keyword\">TO</span> test01<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> kh<span class=\"token punctuation\">.</span>coffee <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","excerpt":"GRANT / REVOKE 사용자 또는 role(resource, connect, dba)에 대한 권한 부여 system / 관리자 계정 접속 - 신규 사용자 생성 - grant 접속 권한 부여 - 리소스 권한 부여","frontmatter":{"date":"April 06, 2022","title":"데이터베이스 6일차 정리 - 데이터제어어(DCL)","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/13-db-dcl/"}},"next":{"id":"f2010d2d-5f05-5255-b289-c3fe42f3a257","html":"<h2 id=\"top-n-분석-top-n-query\" style=\"position:relative;\"><a href=\"#top-n-%EB%B6%84%EC%84%9D-top-n-query\" aria-label=\"top n 분석 top n query permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Top N 분석 (Top N Query)</h2>\n<ul>\n<li>컬럼에서 가장 큰 n개의 값을 혹은 가장 작은 n개의 값을 요청할 때 사용</li>\n<li>상위/하위 n개의 데이터</li>\n<li>회사에서 가장 많이 팔린 제품 10개, 회사에서 봉급이 제일 많은 10개</li>\n<li>게시판 페이징 / 조회수가 높은 인기글</li>\n</ul>\n<h2 id=\"rownum\" style=\"position:relative;\"><a href=\"#rownum\" aria-label=\"rownum permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ROWNUM</h2>\n<ul>\n<li>출력되는 Select 문의 행마다 자동적으로 순위를 매겨주는 것</li>\n<li>default로 원래 존재하는 데이터의 순서대로 순위를 매겨준다.</li>\n<li>우리가 원하는 기준에 맞춰 이미 정렬이 된 상태의 데이터에 대해 rownum -> 순서를 매겨야 함</li>\n<li>인라인 뷰(Inline View) : 서브쿼리 안에서 월급이 제일 큰 순서대로 일단 데이터를 정렬</li>\n<li>실제 메인쿼리에서 rownum을 사용하게 되면 이미 정렬된 데이터에 대해 순서가 매겨지게 된다.</li>\n<li>인라인뷰를 계속 사용하면 쿼리문이 길어진다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\trownum<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> EMPLOYEE <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 가장 높은 급여를 받는 한 사람에 대한 순위,emp_name,salary</span>\n<span class=\"token keyword\">SELECT</span>\n\trownum<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> EMPLOYEE <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> rownum <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 가장 높은 급여를 받는 5명의 순위,emp_name,salary</span>\n<span class=\"token keyword\">SELECT</span>\n\trownum<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> EMPLOYEE <span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> rownum <span class=\"token operator\">&lt;=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"1row_number\" style=\"position:relative;\"><a href=\"#1row_number\" aria-label=\"1row_number permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.ROW_NUMBER()</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">row_number<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> 컬럼<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span>\n\tROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> SALARY <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t<span class=\"token punctuation\">,</span> emp_name\n\t<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>over 안쪽의 컬럼 순서에 따라 정렬한 다음 순위를 매긴다.</li>\n<li>정렬 데이터에 중복값이 있다면 원래 순서대로 19,20 이런 식으로 매겨준다.</li>\n<li>예시.\n<ul>\n<li>월급을 가장 많이 받는 top5</li>\n<li>row_number 로 생성ㄹ한 순위는 ROWNUM으로 접근 가능</li>\n<li>rownum을 사용하게 되면 원래 데이터의 정렬 순서를 기준으로 5개의 데이터가 뽑혀 나오고</li>\n<li>그 다음에 Select 구문의 row_number를 통해 순서가 재정렬 되는 상황</li>\n<li>where 절에 rownum을 사용할 수 없다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"2-rank-over\" style=\"position:relative;\"><a href=\"#2-rank-over\" aria-label=\"2 rank over permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. RANK OVER</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\">rank <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">order</span> <span class=\"token keyword\">by</span> 컬럼<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">SELECT</span>\n\tRANK <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> SALARY <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t<span class=\"token punctuation\">,</span> emp_name\n\t<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>over 안의 컬럼에 따라 정렬한 다음 순위를 매긴다.</li>\n<li>중복되는 경우 19,19 이런식으로 같은 순위를 매기고, 같은 순위를 매긴 데이터만큼 건너뛰어 다음 순위를 매김.</li>\n</ul>\n<h3 id=\"3-dense_rank\" style=\"position:relative;\"><a href=\"#3-dense_rank\" aria-label=\"3 dense_rank permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. DENSE_RANK()</h3>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\tDENSE_RANK<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t<span class=\"token punctuation\">,</span> emp_name\n\t<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>over 안의 컬럼에 따라 정렬한 다음 순위를 매긴다.</li>\n<li>중복되는 경우 똑같은 방법으로 순위를 매기고, 다음에는 순차적으로 매긴다. (19,19,20)</li>\n<li>총 데이터의 개수와 끝 순위 번호가 일치하지 않을 수 있음</li>\n</ul>\n<h2 id=\"예제문제\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C%EB%AC%B8%EC%A0%9C\" aria-label=\"예제문제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제문제</h2>\n<ul>\n<li>급여를 제일 많이 받는 1~5위 사이 사원 정보</li>\n<li>테이블명.* : 다른 데이터와 함께 모든 정보를 조회하고 싶을 때</li>\n<li>row_number 컬럼은 별칭으로 가져와서 조회</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span>\n\t<span class=\"token string\">\"순위\"</span>\n\t<span class=\"token punctuation\">,</span> emp_name\n\t<span class=\"token punctuation\">,</span> salary\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\tROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t<span class=\"token punctuation\">,</span> employee<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span>\n\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\t\tROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t\t<span class=\"token punctuation\">,</span> emp_name <span class=\"token string\">\"사원명\"</span>\n\t\t<span class=\"token punctuation\">,</span> salary <span class=\"token string\">\"봉급\"</span>\n\t\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token string\">\"순위\"</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>5위에서 10위 사이의 사원</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\t\tROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">over</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> salary <span class=\"token keyword\">desc</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t\t<span class=\"token punctuation\">,</span> emp_name <span class=\"token string\">\"사원명\"</span>\n\t\t<span class=\"token punctuation\">,</span> salary <span class=\"token string\">\"봉급\"</span>\n\t\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token string\">\"순위\"</span> <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">5</span> <span class=\"token operator\">AND</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>연봉(보너스포함-(salary + (salary*bonus)*12))이 가장 높은 순서대로 순위 매김</li>\n<li>10~15위 사이인 직원들의 순위, 사원명, 연봉, 직급코드, 부서코드까지 출력</li>\n<li>부서코드가 null이라면 인턴</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\t\tROW_NUMBER<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>salary <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>salary <span class=\"token operator\">*</span> NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>salary <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>salary <span class=\"token operator\">*</span> NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"월급+보너스\"</span>\n\t\t<span class=\"token punctuation\">,</span> emp_name <span class=\"token string\">\"사원명\"</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>salary <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span>salary<span class=\"token operator\">*</span> NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"연봉\"</span>\n\t\t<span class=\"token punctuation\">,</span> job_code <span class=\"token string\">\"직급코드\"</span>\n\t\t<span class=\"token punctuation\">,</span> NVL<span class=\"token punctuation\">(</span>dept_code<span class=\"token punctuation\">,</span><span class=\"token string\">'없음'</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"부서코드\"</span>\n\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token string\">\"순위\"</span> <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">10</span> <span class=\"token operator\">AND</span> <span class=\"token number\">15</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>가장 보너스를 많이 받는 순으로 순위를 매김</li>\n<li>4~8위인 사원들의 순위, 이름, 급여, 보너스를 출력</li>\n<li>데이터에 null값이 있는 상태에서 정렬하면 null 값이 제일 큰 값으로 인식 (제대로 정렬 안됨)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- rownum</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\t\trow_number<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token punctuation\">(</span>salary <span class=\"token operator\">*</span> NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t\t<span class=\"token punctuation\">,</span> emp_name <span class=\"token string\">\"이름\"</span>\n\t\t<span class=\"token punctuation\">,</span> salary <span class=\"token string\">\"급여\"</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>salary <span class=\"token operator\">*</span> NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"보너스\"</span>\n\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token string\">\"순위\"</span> <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">4</span> <span class=\"token operator\">AND</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- rank over</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\t\tRANK<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token punctuation\">(</span>NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t\t<span class=\"token punctuation\">,</span> emp_name <span class=\"token string\">\"이름\"</span>\n\t\t<span class=\"token punctuation\">,</span> salary <span class=\"token string\">\"급여\"</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"보너스\"</span>\n\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token string\">\"순위\"</span> <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">4</span> <span class=\"token operator\">AND</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- dense_rank</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">FROM</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span>\n\t\tDENSE_RANK<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">OVER</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">ORDER</span> <span class=\"token keyword\">BY</span> <span class=\"token punctuation\">(</span>NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DESC</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"순위\"</span>\n\t\t<span class=\"token punctuation\">,</span> emp_name <span class=\"token string\">\"이름\"</span>\n\t\t<span class=\"token punctuation\">,</span> salary <span class=\"token string\">\"급여\"</span>\n\t\t<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>NVL<span class=\"token punctuation\">(</span>bonus<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token string\">\"보너스\"</span>\n\t<span class=\"token keyword\">FROM</span> EMPLOYEE<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">WHERE</span> <span class=\"token string\">\"순위\"</span> <span class=\"token operator\">BETWEEN</span> <span class=\"token number\">4</span> <span class=\"token operator\">AND</span> <span class=\"token number\">8</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#top-n-%EB%B6%84%EC%84%9D-top-n-query\">Top N 분석 (Top N Query)</a></p>\n</li>\n<li>\n<p><a href=\"#rownum\">ROWNUM</a></p>\n<ul>\n<li><a href=\"#1row_number\">1.ROW_NUMBER()</a></li>\n<li><a href=\"#2-rank-over\">2. RANK OVER</a></li>\n<li><a href=\"#3-dense_rank\">3. DENSE_RANK()</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%EC%98%88%EC%A0%9C%EB%AC%B8%EC%A0%9C\">예제문제</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"April 05, 2022","title":"데이터베이스 5일차 정리 - DB_TopN_분석(topNQuery)","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/12-db-topNQuery/"}},"prev":{"id":"5ec05f77-61f4-56d5-841d-2f7b29775630","html":"<h2 id=\"데이터-조작어-dmldata-manipulation-language\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A1%B0%EC%9E%91%EC%96%B4-dmldata-manipulation-language\" aria-label=\"데이터 조작어 dmldata manipulation language permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>데이터 조작어 DML(Data Manipulation Language)</h2>\n<ul>\n<li>Data를 삽입 수정 삭제 조회하는 언어 (CRUD)</li>\n</ul>\n<h1 id=\"1-insert\" style=\"position:relative;\"><a href=\"#1-insert\" aria-label=\"1 insert permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. INSERT</h1>\n<blockquote>\n<p>테이블에 새로은 행을 추가할 때 사용하는 구문</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 모든 행에 대한 데이터를 추가하고자 할때 사용하는 구문</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">into</span> 테이블명 <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span>입력할 데이터<span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">-- 특정한 컬럼의 값만 넣고 싶을 때 사용</span>\n<span class=\"token comment\">-- 컬럼과 데이터의 순서는 맞춰줘야 한다.</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> 테이블명 <span class=\"token punctuation\">(</span>컬럼명<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>컬럼명<span class=\"token number\">2.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span>입력데이터<span class=\"token number\">1</span><span class=\"token punctuation\">,</span>데이터<span class=\"token number\">2.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'abc123'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'ABC초콜릿'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc@naver.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER <span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span>pw<span class=\"token punctuation\">)</span> <span class=\"token keyword\">VALUES</span> <span class=\"token punctuation\">(</span><span class=\"token string\">'eee555'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'eEE'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>서브쿼리를 이용한 INSERT 구문 사용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER\n\t<span class=\"token punctuation\">(</span><span class=\"token keyword\">SELECT</span> emp_id<span class=\"token punctuation\">,</span> job_code<span class=\"token punctuation\">,</span> emp_name<span class=\"token punctuation\">,</span> email\n\t<span class=\"token keyword\">FROM</span> employee <span class=\"token keyword\">WHERE</span> emp_id <span class=\"token operator\">=</span> <span class=\"token string\">'200'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>자동형변환(묵시적형변환) : 오라클이 자동으로 자료형을 추측하여 변환해주는 것</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> MEMBER <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span><span class=\"token number\">123</span><span class=\"token punctuation\">,</span> sysdate<span class=\"token punctuation\">,</span><span class=\"token string\">'ffd'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'abc@naver.com'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"2-update\" style=\"position:relative;\"><a href=\"#2-update\" aria-label=\"2 update permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. UPDATE</h1>\n<blockquote>\n<p>컬럼에 저장된 데이터를 수정하는 구문. 테이블 전체 행 개수에 변화를 주지 않음</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">update</span> 테이블명 <span class=\"token keyword\">SET</span> 변경할 컬럼명 <span class=\"token operator\">=</span> 변경할 값 <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">where</span> 조건\n\n<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> email <span class=\"token operator\">=</span> <span class=\"token string\">'eee@gmail.com'</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'eee555'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">UPDATE</span> MEMBER <span class=\"token keyword\">SET</span> pw <span class=\"token operator\">=</span> <span class=\"token string\">'1234'</span><span class=\"token punctuation\">,</span> nickname <span class=\"token operator\">=</span> <span class=\"token string\">'et'</span> <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'eee555'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h1 id=\"3-delete\" style=\"position:relative;\"><a href=\"#3-delete\" aria-label=\"3 delete permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. DELETE</h1>\n<blockquote>\n<p>테이블의 행을 삭제하는 구문. 행의 개수에 변화가 생김\n조건문을 걸어주지 않으면 테이블의 모든 데이터가 삭제됨</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">delete</span> <span class=\"token keyword\">from</span> 테이블명 <span class=\"token keyword\">where</span> 조건<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">COMMIT</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> member<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> MEMBER <span class=\"token keyword\">WHERE</span> id <span class=\"token operator\">=</span> <span class=\"token string\">'200'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">DELETE</span> <span class=\"token keyword\">FROM</span> MEMBER<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">ROLLBACK</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>TRUNCATE : 테이블의 전체 행을 삭제할 때 사용하는 구문. 되돌릴 수 없음, 영구적으로 삭제</li>\n</ul>\n<p><code class=\"language-text\">TRUNCATE TABLE MEMBER;</code></p>","frontmatter":{"date":"April 06, 2022","title":"데이터베이스 6일차 정리 - 데이터조작어(DML)","categories":"database","author":"bontaedev","emoji":"🪤"},"fields":{"slug":"/database/14-db-dml/"}},"site":{"siteMetadata":{"siteUrl":"https://bontaedev.github.io","comments":{"utterances":{"repo":""}}}}},"pageContext":{"slug":"/database/13-db-dcl/","nextSlug":"/database/12-db-topNQuery/","prevSlug":"/database/14-db-dml/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}